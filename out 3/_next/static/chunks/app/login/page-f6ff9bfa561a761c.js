(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2626],{3808:function(e,s,l){Promise.resolve().then(l.bind(l,5340))},5340:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return h}});var r=l(7437),t=l(2265),a=l(7648),i=l(9376),n=l(2369),c=l(6337),d=l(7769),m=l(2208);let o=(0,l(9763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var x=l(4007),u=l(3671);function h(){let[e,s]=(0,t.useState)({email:"",password:""}),[l,h]=(0,t.useState)(!1),[b,p]=(0,t.useState)({email:"",password:""}),[f,j]=(0,t.useState)({email:!1,password:!1}),{login:g,isLoading:N,error:v,isAuthenticated:w,clearError:y}=(0,u.a)(),k=(0,i.useRouter)(),_=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"请输入有效的邮箱地址":"请输入邮箱地址",C=e=>e?e.length<6?"密码至少需要6个字符":"":"请输入密码",F=()=>{let s=_(e.email),l=C(e.password);return p({email:s,password:l}),!s&&!l};(0,t.useEffect)(()=>{w&&k.push("/profile")},[w,k]);let S=async s=>{if(s.preventDefault(),y(),j({email:!0,password:!0}),F())try{await g(e)}catch(e){}},Z=l=>{let{name:r,value:t}=l.target;s({...e,[r]:t}),f[r]&&("email"===r?p(e=>({...e,email:_(t)})):"password"===r&&p(e=>({...e,password:C(t)})))},E=s=>{let{name:l}=s.target;j(e=>({...e,[l]:!0})),"email"===l?p(s=>({...s,email:_(e.email)})):"password"===l&&p(s=>({...s,password:C(e.password)}))};return(0,r.jsxs)("div",{className:"min-h-screen flex",children:[(0,r.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-ski-blue/90 to-blue-600/90"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('".concat((0,x.al)("/images/ski-mountain.jpg"),"')")}}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:(0,r.jsxs)("div",{className:"text-white text-center max-w-md",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"欢迎回来"}),(0,r.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"登录您的中国滑雪青少年积分排名官方平台账户"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,r.jsx)("span",{children:"查看个人积分记录"})]}),(0,r.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,r.jsx)("span",{children:"参与赛事报名"})]}),(0,r.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,r.jsx)("span",{children:"查看积分排行榜"})]})]})]})})]}),(0,r.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"会员登录"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"请使用您的会员账户登录"})]}),(0,r.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[v&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:v}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"邮箱地址"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(n.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:Z,onBlur:E,className:"pl-10 w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors ".concat(b.email?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-ski-blue"),placeholder:"请输入您的邮箱地址"})]}),b.email&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full mr-2"}),b.email]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(c.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",name:"password",type:l?"text":"password",required:!0,value:e.password,onChange:Z,onBlur:E,className:"pl-10 pr-10 w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors ".concat(b.password?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-ski-blue"),placeholder:"请输入您的密码"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,r.jsx)(m.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),b.password&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full mr-2"}),b.password]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-ski-blue focus:ring-ski-blue border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"记住我"})]}),(0,r.jsx)(a.default,{href:"/forgot-password",className:"text-sm text-ski-blue hover:text-ski-blue/80",children:"忘记密码？"})]}),(0,r.jsx)("button",{type:"submit",disabled:N,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-ski-blue hover:bg-ski-blue/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ski-blue disabled:opacity-50 disabled:cursor-not-allowed",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"登录中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{className:"h-5 w-5 mr-2"}),"登录"]})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"还没有账户？"}),(0,r.jsx)(a.default,{href:"/register",className:"ml-2 text-ski-blue hover:text-ski-blue/80 font-medium",children:"立即注册"})]})]}),(0,r.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,r.jsx)("p",{children:"登录即表示您同意我们的"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)(a.default,{href:"/terms",className:"text-ski-blue hover:text-ski-blue/80",children:"服务条款"}),(0,r.jsx)("span",{className:"mx-2",children:"和"}),(0,r.jsx)(a.default,{href:"/privacy",className:"text-ski-blue hover:text-ski-blue/80",children:"隐私政策"})]})]})})]})})]})}}},function(e){e.O(0,[2972,7361,2971,2117,1744],function(){return e(e.s=3808)}),_N_E=e.O()}]);