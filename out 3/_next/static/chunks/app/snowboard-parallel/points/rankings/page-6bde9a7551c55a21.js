(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3049],{1289:function(e,t,s){Promise.resolve().then(s.bind(s,5725))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:o,children:u,...x}=s;return(0,r.createElement)("svg",{ref:n,...a,width:d,height:d,stroke:i,strokeWidth:o?24*Number(c)/Number(d):c,className:"lucide lucide-".concat(l(e)),...x},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...(Array.isArray(u)?u:[u])||[]])});return s.displayName="".concat(e),s}},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3327:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8617:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]])},2735:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},4586:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]])},9474:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(2972),a=s.n(r)},5725:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=s(7437),a=s(2265),l=s(7648),n=s(8617),i=s(6142),d=s(3327),c=s(2660),o=s(4586),u=s(3247),x=s(9474),h=s(2735),m=s(978),p=s(9065);function g(){let[e,t]=(0,a.useState)("all"),[s,g]=(0,a.useState)("all"),[f,y]=(0,a.useState)("all"),[b,j]=(0,a.useState)(""),[w,v]=(0,a.useState)(!1),{showToast:N}=(0,p.p)(),k=(0,a.useMemo)(()=>(function(){let e=new Set,t=new Set,s=new Set;for(let r of m.Cm.competitions)if("snowboard-parallel"===r.sportType)for(let a of r.events)e.add(a.discipline),t.add(a.ageGroup),s.add(a.gender);return{disciplines:Array.from(e).sort(),ageGroups:Array.from(t).sort((e,t)=>parseInt(e.replace("U",""))-parseInt(t.replace("U",""))),genders:Array.from(s).sort()}})(),[]),Z=(0,a.useMemo)(()=>(function(e,t,s){let r=[];for(let a of m.Cm.competitions)if("snowboard-parallel"===a.sportType)for(let l of a.events)("all"===e||l.discipline===e)&&("all"===t||l.ageGroup===t)&&("all"===s||l.gender===s)&&r.push({competition:a.competition,discipline:l.discipline,ageGroup:l.ageGroup,gender:l.gender,date:a.date,location:a.location,athletes:l.athletes});return r})(e,s,f),[e,s,f]),C=(0,a.useMemo)(()=>{if(!b)return Z;let e=b.toLowerCase();return Z.map(t=>({...t,athletes:t.athletes.filter(t=>t.name.toLowerCase().includes(e)||t.team.toLowerCase().includes(e))})).filter(e=>e.athletes.length>0)},[Z,b]),M=C.reduce((e,t)=>e+t.athletes.length,0),q=C.length,S=async()=>{v(!0);try{await new Promise(e=>setTimeout(e,1e3)),N("排名数据已导出","success")}finally{v(!1)}},A=e=>{switch(e){case 1:return(0,r.jsx)(n.Z,{className:"w-5 h-5 text-yellow-500"});case 2:return(0,r.jsx)(i.Z,{className:"w-5 h-5 text-gray-400"});case 3:return(0,r.jsx)(d.Z,{className:"w-5 h-5 text-amber-600"});default:return(0,r.jsx)("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-medium text-gray-500",children:e})}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)(l.default,{href:"/snowboard-parallel",className:"inline-flex items-center text-gray-600 hover:text-indigo-600 mb-6 transition-colors",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"返回单板平行项目"]}),(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-full mb-4 shadow-lg",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"单板平行项目积分排名"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Snowboard Parallel Rankings (PGS/PSL)"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-indigo-100",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:q}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"比赛场次"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-indigo-100",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:M}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"参赛人次"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-indigo-100",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:k.disciplines.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"项目数量"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-indigo-100",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:k.ageGroups.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"年龄组别"})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"项目"}),(0,r.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,r.jsx)("option",{value:"all",children:"全部项目"}),k.disciplines.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"年龄组"}),(0,r.jsxs)("select",{value:s,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,r.jsx)("option",{value:"all",children:"全部年龄组"}),k.ageGroups.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"性别"}),(0,r.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[(0,r.jsx)("option",{value:"all",children:"全部"}),k.genders.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"搜索"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(u.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,r.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value),placeholder:"搜索运动员...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]})]})]})}),0===C.length?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[(0,r.jsx)(x.Z,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-500",children:"暂无符合条件的排名数据"})]}):(0,r.jsx)("div",{className:"space-y-6",children:C.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.competition}),(0,r.jsxs)("p",{className:"text-indigo-200 text-sm",children:[e.discipline," \xb7 ",e.ageGroup," \xb7 ",e.gender," \xb7 ",e.date]})]}),(0,r.jsxs)("button",{onClick:S,disabled:w,className:"px-3 py-1.5 bg-white/20 hover:bg-white/30 text-white rounded-lg text-sm flex items-center gap-1 transition-colors",children:[(0,r.jsx)(h.Z,{className:"w-4 h-4"}),"导出"]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"排名"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"姓名"}),(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"单位"}),(0,r.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"积分"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.athletes.map((e,t)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("div",{className:"flex items-center gap-2",children:A(e.rank)})}),(0,r.jsx)("td",{className:"px-4 py-3",children:(0,r.jsx)("span",{className:"font-medium text-gray-900",children:e.name})}),(0,r.jsx)("td",{className:"px-4 py-3 text-gray-600",children:e.team}),(0,r.jsx)("td",{className:"px-4 py-3 text-right",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[e.points," 分"]})})]},t))})]})})]},t))}),(0,r.jsx)("div",{className:"mt-8 text-center",children:(0,r.jsxs)(l.default,{href:"/points/rankings",className:"inline-flex items-center gap-2 text-indigo-600 hover:text-indigo-700 font-medium",children:["查看全部项目排名",(0,r.jsx)(c.Z,{className:"w-4 h-4 rotate-180"})]})})]})})}},9065:function(e,t,s){"use strict";s.d(t,{V:function(){return x},p:function(){return u}});var r=s(7437),a=s(2265),l=s(5302),n=s(2252),i=s(3639),d=s(3245),c=s(2489);let o=(0,a.createContext)(void 0);function u(){let e=(0,a.useContext)(o);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function x(e){let{children:t}=e,[s,l]=(0,a.useState)([]),n=(0,a.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[]),i=(0,a.useRef)(new Map),d=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r="toast-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),a={id:r,message:e,type:t,duration:s};if(l(e=>[...e,a]),s>0){let e=setTimeout(()=>{n(r),i.current.delete(r)},s);i.current.set(r,e)}},[n]);return(0,a.useEffect)(()=>{let e=i.current;return()=>{e.forEach(e=>clearTimeout(e)),e.clear()}},[]),(0,r.jsxs)(o.Provider,{value:{showToast:d,hideToast:n},children:[t,(0,r.jsx)(h,{toasts:s,onClose:n})]})}function h(e){let{toasts:t,onClose:s}=e;return 0===t.length?null:(0,r.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:t.map(e=>(0,r.jsx)(m,{toast:e,onClose:s},e.id))})}function m(e){let{toast:t,onClose:s}=e,a={success:(0,r.jsx)(l.Z,{className:"w-5 h-5 text-green-500"}),error:(0,r.jsx)(n.Z,{className:"w-5 h-5 text-red-500"}),warning:(0,r.jsx)(i.Z,{className:"w-5 h-5 text-yellow-500"}),info:(0,r.jsx)(d.Z,{className:"w-5 h-5 text-blue-500"})};return(0,r.jsxs)("div",{className:"flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-slide-in ".concat({success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"}[t.type]),role:"alert",children:[a[t.type],(0,r.jsx)("p",{className:"flex-1 text-sm text-gray-700 whitespace-pre-line",children:t.message}),(0,r.jsx)("button",{onClick:()=>s(t.id),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,r.jsx)(c.Z,{className:"w-4 h-4"})})]})}}},function(e){e.O(0,[2972,978,2971,2117,1744],function(){return e(e.s=1289)}),_N_E=e.O()}]);