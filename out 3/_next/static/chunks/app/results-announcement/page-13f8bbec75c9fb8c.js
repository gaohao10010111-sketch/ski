(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6964],{1642:function(e,t,s){Promise.resolve().then(s.bind(s,3792))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var l=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(e,t)=>{let s=(0,l.forwardRef)((s,n)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,children:x,...m}=s;return(0,l.createElement)("svg",{ref:n,...r,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:"lucide lucide-".concat(a(e)),...m},[...t.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...(Array.isArray(x)?x:[x])||[]])});return s.displayName="".concat(e),s}},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3639:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3327:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},2735:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},740:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},3245:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6142:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]])},8919:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},9474:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var l=s(2972),r=s.n(l)},9376:function(e,t,s){"use strict";var l=s(5475);s.o(l,"usePathname")&&s.d(t,{usePathname:function(){return l.usePathname}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},257:function(e,t,s){"use strict";var l,r;e.exports=(null==(l=s.g.process)?void 0:l.env)&&"object"==typeof(null==(r=s.g.process)?void 0:r.env)?s.g.process:s(4227)},4227:function(e){!function(){var t={229:function(e){var t,s,l,r=e.exports={};function a(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{s="function"==typeof clearTimeout?clearTimeout:n}catch(e){s=n}}();var c=[],o=!1,d=-1;function x(){o&&l&&(o=!1,l.length?c=l.concat(c):d=-1,c.length&&m())}function m(){if(!o){var e=i(x);o=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,o=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function u(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];c.push(new h(e,t)),1!==c.length||o||i(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=u,r.addListener=u,r.once=u,r.off=u,r.removeListener=u,r.removeAllListeners=u,r.emit=u,r.prependListener=u,r.prependOnceListener=u,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},s={};function l(e){var r=s[e];if(void 0!==r)return r.exports;var a=s[e]={exports:{}},n=!0;try{t[e](a,a.exports,l),n=!1}finally{n&&delete s[e]}return a.exports}l.ab="//";var r=l(229);e.exports=r}()},3792:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var l=s(7437),r=s(2265),a=s(9376),n=s(7648),i=s(2660),c=s(9474),o=s(3327),d=s(5805),x=s(740),m=s(5302),h=s(3774),u=s(1047),g=s(2208),p=s(2735),f=s(8919);let y=(0,s(9763).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);var b=s(2451),v=s(407),j=s(6142),N=s(9065),w=s(978),k=s(4007);let Z={gold:{color:"text-yellow-500",bg:"bg-yellow-50",label:"金牌"},silver:{color:"text-gray-400",bg:"bg-gray-50",label:"银牌"},bronze:{color:"text-orange-600",bg:"bg-orange-50",label:"铜牌"}},C={alpine:"高山滑雪","snowboard-slopestyle":"单板滑雪","snowboard-parallel":"单板平行项目","freestyle-slopestyle":"自由式滑雪"};function M(){var e,t,s,M;let S=(0,a.useSearchParams)(),T=null==S?void 0:S.get("sport"),{showToast:E}=(0,N.p)(),[L,A]=(0,r.useState)("list"),[q,z]=(0,r.useState)(0),[P,R]=(0,r.useState)(0),[U,_]=(0,r.useState)("all"),[G,H]=(0,r.useState)("all"),[F,O]=(0,r.useState)("all"),V=(0,r.useMemo)(()=>{let e=w.Cm.competitions;return T&&(e=e.filter(e=>e.sportType===T)),"all"!==F&&(e=e.filter(e=>e.sportType===F)),e},[T,F]),D=V[q]||V[0],W=(0,r.useMemo)(()=>D?Array.from(new Set(D.events.map(e=>e.ageGroup))).sort():[],[D]),B=(0,r.useMemo)(()=>D?D.events.filter(e=>("all"===U||e.gender===U)&&("all"===G||e.ageGroup===G)):[],[D,U,G]),Y=B[P]||B[0];(0,r.useEffect)(()=>{R(0),_("all"),H("all")},[q]),(0,r.useEffect)(()=>{R(0)},[U,G]);let I=e=>1===e?"gold":2===e?"silver":3===e?"bronze":null,$=async()=>{if(navigator.share)try{await navigator.share({title:"".concat((null==D?void 0:D.competition)||"比赛"," - 成绩公告"),text:"查看".concat((null==D?void 0:D.competition)||"比赛","的比赛成绩"),url:window.location.href})}catch(e){E("分享已取消","info")}else await navigator.clipboard.writeText(window.location.href),E("链接已复制到剪贴板","success")},X=e=>{z(e),R(0),_("all"),H("all"),A("detail")},J=(0,r.useMemo)(()=>{let e=new Set,t=0;return V.forEach(s=>{t+=s.events.length,s.events.forEach(t=>{t.athletes.forEach(t=>e.add(t.name))})}),{totalCompetitions:V.length,totalAthletes:e.size,totalEvents:t}},[V]);if(0===V.length)return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)(n.default,{href:"/",className:"inline-flex items-center text-gray-600 hover:text-ski-blue mb-6 transition-colors",children:[(0,l.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"返回首页"]}),(0,l.jsxs)("div",{className:"text-center py-16",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 rounded-full mb-6",children:(0,l.jsx)(c.Z,{className:"w-10 h-10 text-gray-400"})}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-700 mb-4",children:"暂无成绩数据"}),(0,l.jsx)("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:T?"".concat(C[T]||T," 项目暂无比赛成绩数据。"):"目前还没有已完成的比赛成绩。"}),(0,l.jsx)(n.default,{href:"/",className:"inline-flex items-center px-6 py-3 bg-ski-blue text-white rounded-lg hover:bg-primary-700 transition-colors",children:"返回首页"})]})]});if("list"===L)return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)(n.default,{href:"/",className:"inline-flex items-center text-gray-600 hover:text-ski-blue mb-6 transition-colors",children:[(0,l.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"返回首页"]}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full mb-4 shadow-lg",children:(0,l.jsx)(c.Z,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-ski-navy mb-2",children:"最新成绩"}),(0,l.jsxs)("p",{className:"text-gray-500 text-sm",children:["数据更新于 ",w.Cm.lastUpdated]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,l.jsx)(c.Z,{className:"h-8 w-8 text-yellow-500 mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-ski-navy",children:J.totalCompetitions}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"已完赛事"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,l.jsx)(o.Z,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-ski-navy",children:J.totalEvents}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"比赛项目"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[(0,l.jsx)(d.Z,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-ski-navy",children:J.totalAthletes}),(0,l.jsx)("div",{className:"text-sm text-gray-600",children:"参赛运动员"})]})]}),!T&&(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-8",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(x.Z,{className:"h-5 w-5 text-gray-500"}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"筛选项目:"})]}),(0,l.jsxs)("select",{value:F,onChange:e=>O(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-ski-blue transition-all",children:[(0,l.jsx)("option",{value:"all",children:"全部项目"}),(0,l.jsx)("option",{value:"alpine",children:"高山滑雪"}),(0,l.jsx)("option",{value:"snowboard-slopestyle",children:"单板滑雪"}),(0,l.jsx)("option",{value:"snowboard-parallel",children:"单板平行项目"}),(0,l.jsx)("option",{value:"freestyle-slopestyle",children:"自由式滑雪"})]}),(0,l.jsx)("div",{className:"flex-1"}),(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["找到 ",(0,l.jsx)("span",{className:"font-bold text-ski-blue",children:V.length})," 场比赛"]})]})}),(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:V.map((e,t)=>{var s,r,a,n;let i=e.events.reduce((e,t)=>e+t.athletes.length,0),c=(null===(s=e.events[0])||void 0===s?void 0:s.athletes.slice(0,3))||[];return(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden",children:[(0,l.jsxs)("div",{className:"relative h-48 bg-gradient-to-br from-ski-blue to-ski-navy",children:[(0,l.jsx)("img",{src:(0,k.al)("/images/snowboard-halfpipe.jpg"),alt:e.competition,className:"w-full h-full object-cover opacity-60"}),(0,l.jsx)("div",{className:"absolute top-3 left-3",children:(0,l.jsxs)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-500 text-white",children:[(0,l.jsx)(m.Z,{className:"w-3 h-3 mr-1"}),"已完赛"]})}),(0,l.jsx)("div",{className:"absolute top-3 right-3",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 text-gray-700",children:C[e.sportType]||e.sport})}),(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[(0,l.jsx)("h3",{className:"text-white font-bold text-lg mb-1 line-clamp-2",children:e.competition}),(0,l.jsxs)("div",{className:"flex items-center text-white/80 text-sm",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 mr-1"}),e.location]})]})]}),(0,l.jsxs)("div",{className:"p-5",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4 text-sm text-gray-600",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),(0,l.jsxs)("span",{children:[e.date," ~ ",e.endDate]})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(d.Z,{className:"h-4 w-4 mr-1 text-gray-400"}),(0,l.jsxs)("span",{children:[i," 人参赛"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,l.jsxs)("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:[e.events.length," 个项目"]}),Array.from(new Set(e.events.map(e=>e.ageGroup))).slice(0,3).map((e,t)=>(0,l.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:e},t))]}),c.length>0&&(0,l.jsxs)("div",{className:"mb-4 p-3 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-100",children:[(0,l.jsxs)("div",{className:"text-xs text-gray-500 mb-2",children:[null===(r=e.events[0])||void 0===r?void 0:r.discipline," ",null===(a=e.events[0])||void 0===a?void 0:a.ageGroup," ",null===(n=e.events[0])||void 0===n?void 0:n.gender," 前三名"]}),(0,l.jsx)("div",{className:"flex items-center gap-3",children:c.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold mr-1 ".concat(0===t?"bg-yellow-400 text-yellow-900":1===t?"bg-gray-300 text-gray-700":"bg-orange-400 text-orange-900"),children:t+1}),(0,l.jsx)("span",{className:"text-sm text-gray-700 truncate max-w-[80px]",children:e.name})]},t))})]}),(0,l.jsxs)("button",{onClick:()=>X(t),className:"w-full flex items-center justify-center py-3 px-4 bg-ski-blue text-white rounded-lg hover:bg-primary-700 transition-colors font-medium",children:[(0,l.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"查看完整成绩"]})]})]},t)})}),(0,l.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg text-sm text-gray-600",children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"说明："}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,l.jsx)("li",{children:"成绩数据来源于官方比赛成绩公告"}),(0,l.jsx)("li",{children:"积分按照中国滑雪协会U系列360分制积分规则计算"}),(0,l.jsx)("li",{children:"如有疑问请联系赛事组委会"})]})]})]});let K=(null==D?void 0:D.events.reduce((e,t)=>e+t.athletes.length,0))||0;return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("button",{onClick:()=>{A("list")},className:"inline-flex items-center text-gray-600 hover:text-ski-blue mb-6 transition-colors",children:[(0,l.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"返回成绩列表"]}),(0,l.jsxs)("div",{className:"text-center mb-8",children:[(0,l.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full mb-4 shadow-lg",children:(0,l.jsx)(c.Z,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("h1",{className:"text-3xl font-bold text-ski-navy mb-2",children:"成绩详情"}),(0,l.jsxs)("p",{className:"text-gray-500 text-sm",children:["数据更新于 ",w.Cm.lastUpdated]}),V.length>1&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("select",{value:q,onChange:e=>z(Number(e.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ski-blue focus:border-ski-blue",children:V.map((e,t)=>(0,l.jsx)("option",{value:t,children:e.competition},t))})})]}),D&&(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-ski-navy mb-4",children:D.competition}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(u.Z,{className:"w-5 h-5 text-ski-blue"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"比赛日期"}),(0,l.jsxs)("div",{className:"font-medium",children:[D.date," ~ ",D.endDate]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(h.Z,{className:"w-5 h-5 text-green-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"比赛地点"}),(0,l.jsx)("div",{className:"font-medium",children:D.location})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(o.Z,{className:"w-5 h-5 text-purple-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"比赛项目"}),(0,l.jsx)("div",{className:"font-medium",children:D.sport})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(d.Z,{className:"w-5 h-5 text-orange-600"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm text-gray-500",children:"参赛人数"}),(0,l.jsxs)("div",{className:"font-medium",children:[K," 人"]})]})]})]}),(0,l.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-100",children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm",children:[(0,l.jsxs)("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full",children:["已完赛: ",D.events.length," 个小项"]}),(0,l.jsxs)("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full",children:["年龄组: ",W.join(" / ")]})]})})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)("button",{onClick:()=>{if(!Y||!D){E("没有可导出的数据","error");return}let e=new Blob(["\uFEFF"+[["名次","号码","姓名","代表队","成绩/得分","积分"],...Y.athletes.map(e=>[e.rank,e.bib,e.name,e.team,e.time||(e.bestScore?"".concat(e.bestScore,"分"):"-"),e.points||"-"])].map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="".concat(D.competition,"_").concat(Y.discipline,"_").concat(Y.ageGroup,"_").concat(Y.gender,".csv"),s.click(),URL.revokeObjectURL(t),E("成绩表已导出","success")},className:"inline-flex items-center px-4 py-2 bg-ski-blue text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,l.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"导出当前成绩"]}),(0,l.jsxs)("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,l.jsx)(f.Z,{className:"w-4 h-4 mr-2"}),"分享"]}),(0,l.jsxs)("button",{onClick:()=>{window.print()},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors print:hidden",children:[(0,l.jsx)(y,{className:"w-4 h-4 mr-2"}),"打印"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(x.Z,{className:"w-4 h-4 text-gray-500"}),(0,l.jsxs)("select",{value:U,onChange:e=>_(e.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-ski-blue focus:border-ski-blue",children:[(0,l.jsx)("option",{value:"all",children:"全部性别"}),(0,l.jsx)("option",{value:"男子组",children:"男子组"}),(0,l.jsx)("option",{value:"女子组",children:"女子组"})]}),(0,l.jsxs)("select",{value:G,onChange:e=>H(e.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-ski-blue focus:border-ski-blue",children:[(0,l.jsx)("option",{value:"all",children:"全部年龄组"}),W.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]})]}),B.length>0&&(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6 p-4 bg-ski-blue/5 rounded-lg border border-ski-blue/20",children:[(0,l.jsx)("button",{onClick:()=>R(Math.max(0,P-1)),disabled:0===P,className:"p-2 rounded-full hover:bg-ski-blue/10 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:(0,l.jsx)(b.Z,{className:"w-5 h-5 text-ski-blue"})}),(0,l.jsxs)("div",{className:"text-center flex-1 px-4",children:[(0,l.jsxs)("div",{className:"font-bold text-ski-navy text-lg",children:[null==Y?void 0:Y.discipline," \xb7 ",null==Y?void 0:Y.ageGroup," \xb7 ",null==Y?void 0:Y.gender]}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:["第 ",P+1," / ",B.length," 个小项"]})]}),(0,l.jsx)("button",{onClick:()=>R(Math.min(B.length-1,P+1)),disabled:P>=B.length-1,className:"p-2 rounded-full hover:bg-ski-blue/10 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:(0,l.jsx)(v.Z,{className:"w-5 h-5 text-ski-blue"})})]}),Y&&Y.athletes.length>=3&&(0,l.jsxs)("div",{className:"bg-gradient-to-br from-ski-navy to-blue-900 rounded-xl p-8 mb-8 text-white",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-center mb-8",children:"领奖台"}),(0,l.jsxs)("div",{className:"flex justify-center items-end gap-4",children:[Y.athletes[1]&&(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 bg-gray-300 rounded-full flex items-center justify-center shadow-lg",children:(0,l.jsx)(j.Z,{className:"w-10 h-10 text-gray-600"})}),(0,l.jsxs)("div",{className:"bg-gray-300 rounded-t-lg pt-4 pb-2 px-4 w-28",children:[(0,l.jsx)("div",{className:"text-gray-800 font-bold truncate",children:Y.athletes[1].name}),(0,l.jsx)("div",{className:"text-gray-600 text-sm truncate",children:Y.athletes[1].team}),(0,l.jsx)("div",{className:"text-gray-700 text-xs mt-1",children:Y.athletes[1].time||(Y.athletes[1].bestScore?"".concat(Y.athletes[1].bestScore,"分"):"")})]}),(0,l.jsx)("div",{className:"bg-gray-400 h-16 w-28 flex items-center justify-center text-2xl font-bold text-gray-700",children:"2"})]}),Y.athletes[0]&&(0,l.jsxs)("div",{className:"text-center -mt-4",children:[(0,l.jsx)("div",{className:"w-24 h-24 mx-auto mb-3 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg animate-pulse",children:(0,l.jsx)(c.Z,{className:"w-12 h-12 text-yellow-800"})}),(0,l.jsxs)("div",{className:"bg-yellow-400 rounded-t-lg pt-4 pb-2 px-4 w-32",children:[(0,l.jsx)("div",{className:"text-yellow-900 font-bold text-lg truncate",children:Y.athletes[0].name}),(0,l.jsx)("div",{className:"text-yellow-800 text-sm truncate",children:Y.athletes[0].team}),(0,l.jsx)("div",{className:"text-yellow-900 text-xs mt-1",children:Y.athletes[0].time||(Y.athletes[0].bestScore?"".concat(Y.athletes[0].bestScore,"分"):"")})]}),(0,l.jsx)("div",{className:"bg-yellow-500 h-24 w-32 flex items-center justify-center text-3xl font-bold text-yellow-900",children:"1"})]}),Y.athletes[2]&&(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto mb-3 bg-orange-400 rounded-full flex items-center justify-center shadow-lg",children:(0,l.jsx)(j.Z,{className:"w-10 h-10 text-orange-800"})}),(0,l.jsxs)("div",{className:"bg-orange-400 rounded-t-lg pt-4 pb-2 px-4 w-28",children:[(0,l.jsx)("div",{className:"text-orange-900 font-bold truncate",children:Y.athletes[2].name}),(0,l.jsx)("div",{className:"text-orange-800 text-sm truncate",children:Y.athletes[2].team}),(0,l.jsx)("div",{className:"text-orange-900 text-xs mt-1",children:Y.athletes[2].time||(Y.athletes[2].bestScore?"".concat(Y.athletes[2].bestScore,"分"):"")})]}),(0,l.jsx)("div",{className:"bg-orange-500 h-12 w-28 flex items-center justify-center text-2xl font-bold text-orange-900",children:"3"})]})]})]}),Y&&Y.athletes.length>0?(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full",children:[(0,l.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-600",children:"名次"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-600",children:"号码"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-600",children:"姓名"}),(0,l.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-600",children:"代表队"}),(null===(e=Y.athletes[0])||void 0===e?void 0:e.birthYear)&&(0,l.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-600",children:"出生年"}),(null===(t=Y.athletes[0])||void 0===t?void 0:t.run1)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-600",children:"第一轮"}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-600",children:"第二轮"})]}),(0,l.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-600",children:(null===(s=Y.athletes[0])||void 0===s?void 0:s.time)?"总成绩":"最佳得分"}),(null===(M=Y.athletes[0])||void 0===M?void 0:M.points)!==void 0&&(0,l.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-600",children:"积分"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-gray-100",children:Y.athletes.map((e,t)=>{let s=I(e.rank),r=s?Z[s]:null;return(0,l.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors ".concat((null==r?void 0:r.bg)||""),children:[(0,l.jsx)("td",{className:"px-4 py-3",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[r?(0,l.jsx)("span",{className:"font-bold ".concat(r.color),children:e.rank}):(0,l.jsx)("span",{className:"text-gray-600",children:e.rank}),r&&(0,l.jsx)(j.Z,{className:"w-4 h-4 ".concat(r.color)})]})}),(0,l.jsx)("td",{className:"px-4 py-3 text-gray-600",children:e.bib}),(0,l.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.name}),(0,l.jsx)("td",{className:"px-4 py-3 text-gray-600",children:e.team}),e.birthYear&&(0,l.jsx)("td",{className:"px-4 py-3 text-center text-gray-500",children:e.birthYear}),e.run1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{className:"px-4 py-3 text-center font-mono text-gray-700",children:e.run1}),(0,l.jsx)("td",{className:"px-4 py-3 text-center font-mono text-gray-700",children:e.run2})]}),(0,l.jsx)("td",{className:"px-4 py-3 text-center font-mono font-semibold text-gray-900",children:e.time||(e.bestScore?"".concat(e.bestScore):"-")}),void 0!==e.points&&(0,l.jsx)("td",{className:"px-4 py-3 text-center",children:(0,l.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-ski-blue/10 text-ski-blue rounded font-medium",children:e.points})})]},"".concat(e.name,"-").concat(t))})})]})})}):(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:(0,l.jsx)("p",{className:"text-gray-500",children:"该筛选条件下暂无成绩数据"})}),B.length>1&&(0,l.jsxs)("div",{className:"mt-8",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-ski-navy mb-4",children:"全部小项"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:B.map((e,t)=>(0,l.jsxs)("button",{onClick:()=>R(t),className:"p-3 rounded-lg text-left transition-all ".concat(t===P?"bg-ski-blue text-white shadow-md":"bg-gray-50 hover:bg-gray-100 text-gray-700"),children:[(0,l.jsx)("div",{className:"font-medium text-sm",children:e.discipline}),(0,l.jsxs)("div",{className:"text-xs ".concat(t===P?"text-white/80":"text-gray-500"),children:[e.ageGroup," \xb7 ",e.gender," \xb7 ",e.athletes.length,"人"]})]},t))})]}),(0,l.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg text-sm text-gray-600",children:[(0,l.jsx)("p",{className:"font-medium mb-2",children:"说明："}),(0,l.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,l.jsx)("li",{children:"成绩数据来源于官方比赛成绩公告"}),(0,l.jsx)("li",{children:"积分按照中国滑雪协会U系列360分制积分规则计算"}),(0,l.jsx)("li",{children:"如有疑问请联系赛事组委会"})]})]})]})}function S(){return(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,l.jsxs)("div",{className:"animate-pulse",children:[(0,l.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,l.jsx)("div",{className:"h-64 bg-gray-200 rounded mb-4"}),(0,l.jsx)("div",{className:"h-96 bg-gray-200 rounded"})]})}),children:(0,l.jsx)(M,{})})}},9065:function(e,t,s){"use strict";s.d(t,{V:function(){return m},p:function(){return x}});var l=s(7437),r=s(2265),a=s(5302),n=s(2252),i=s(3639),c=s(3245),o=s(2489);let d=(0,r.createContext)(void 0);function x(){let e=(0,r.useContext)(d);if(!e)throw Error("useToast must be used within a ToastProvider");return e}function m(e){let{children:t}=e,[s,a]=(0,r.useState)([]),n=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),i=(0,r.useRef)(new Map),c=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,l="toast-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),r={id:l,message:e,type:t,duration:s};if(a(e=>[...e,r]),s>0){let e=setTimeout(()=>{n(l),i.current.delete(l)},s);i.current.set(l,e)}},[n]);return(0,r.useEffect)(()=>{let e=i.current;return()=>{e.forEach(e=>clearTimeout(e)),e.clear()}},[]),(0,l.jsxs)(d.Provider,{value:{showToast:c,hideToast:n},children:[t,(0,l.jsx)(h,{toasts:s,onClose:n})]})}function h(e){let{toasts:t,onClose:s}=e;return 0===t.length?null:(0,l.jsx)("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2 max-w-sm",children:t.map(e=>(0,l.jsx)(u,{toast:e,onClose:s},e.id))})}function u(e){let{toast:t,onClose:s}=e,r={success:(0,l.jsx)(a.Z,{className:"w-5 h-5 text-green-500"}),error:(0,l.jsx)(n.Z,{className:"w-5 h-5 text-red-500"}),warning:(0,l.jsx)(i.Z,{className:"w-5 h-5 text-yellow-500"}),info:(0,l.jsx)(c.Z,{className:"w-5 h-5 text-blue-500"})};return(0,l.jsxs)("div",{className:"flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-slide-in ".concat({success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"}[t.type]),role:"alert",children:[r[t.type],(0,l.jsx)("p",{className:"flex-1 text-sm text-gray-700 whitespace-pre-line",children:t.message}),(0,l.jsx)("button",{onClick:()=>s(t.id),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close",children:(0,l.jsx)(o.Z,{className:"w-4 h-4"})})]})}},4007:function(e,t,s){"use strict";s.d(t,{al:function(){return r}});var l=s(257);function r(e){let t=e.startsWith("/")?e:"/".concat(e);return"true"===l.env.GITHUB_PAGES||window.location.pathname.startsWith("/ski/")?"/ski".concat(t):t}}},function(e){e.O(0,[2972,978,2971,2117,1744],function(){return e(e.s=1642)}),_N_E=e.O()}]);