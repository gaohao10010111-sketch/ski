(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{9763:function(e,a,t){"use strict";t.d(a,{Z:function(){return T}});var E=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T=(e,a)=>{let t=(0,E.forwardRef)((t,T)=>{let{color:U="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:A,children:s,...u}=t;return(0,E.createElement)("svg",{ref:T,...r,width:o,height:o,stroke:U,strokeWidth:A?24*Number(i)/Number(o):i,className:"lucide lucide-".concat(n(e)),...u},[...a.map(e=>{let[a,t]=e;return(0,E.createElement)(a,t)}),...(Array.isArray(s)?s:[s])||[]])});return t.displayName="".concat(e),t}},6337:function(e,a,t){"use strict";t.d(a,{Z:function(){return E}});let E=(0,t(9763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},7648:function(e,a,t){"use strict";t.d(a,{default:function(){return r.a}});var E=t(2972),r=t.n(E)},257:function(e,a,t){"use strict";var E,r;e.exports=(null==(E=t.g.process)?void 0:E.env)&&"object"==typeof(null==(r=t.g.process)?void 0:r.env)?t.g.process:t(4227)},4227:function(e){!function(){var a={229:function(e){var a,t,E,r=e.exports={};function n(){throw Error("setTimeout has not been defined")}function T(){throw Error("clearTimeout has not been defined")}function U(e){if(a===setTimeout)return setTimeout(e,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:n}catch(e){a=n}try{t="function"==typeof clearTimeout?clearTimeout:T}catch(e){t=T}}();var o=[],i=!1,A=-1;function s(){i&&E&&(i=!1,E.length?o=E.concat(o):A=-1,o.length&&u())}function u(){if(!i){var e=U(s);i=!0;for(var a=o.length;a;){for(E=o,o=[];++A<a;)E&&E[A].run();A=-1,a=o.length}E=null,i=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===T||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(a){try{return t.call(null,e)}catch(a){return t.call(this,e)}}}(e)}}function c(e,a){this.fun=e,this.array=a}function R(){}r.nextTick=function(e){var a=Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)a[t-1]=arguments[t];o.push(new c(e,a)),1!==o.length||i||U(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=R,r.addListener=R,r.once=R,r.off=R,r.removeListener=R,r.removeAllListeners=R,r.emit=R,r.prependListener=R,r.prependOnceListener=R,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function E(e){var r=t[e];if(void 0!==r)return r.exports;var n=t[e]={exports:{}},T=!0;try{a[e](n,n.exports,E),T=!1}finally{T&&delete t[e]}return n.exports}E.ab="//";var r=E(229);e.exports=r}()},4362:function(e,a,t){"use strict";t.d(a,{H:function(){return A},a:function(){return s}});var E=t(7437),r=t(2265),n=t(3700);let T={[n.i4.PUBLIC]:{[n._z.HOME]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.ABOUT]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.NEWS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.CONTACT]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.PROFILE]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.MY_POINTS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.POINTS_QUERY]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.POINTS_RANKING]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.POINTS_CALCULATOR]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.POINTS_TRENDS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.RULES_POINTS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.COMPETITIONS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.COMPETITIONS_SCHEDULE]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.RESULTS_IMPORT]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.RESULTS_ANNOUNCEMENT]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.REGISTRATION]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.EVENTS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.ADMIN_DASHBOARD]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.POINTS_CALCULATION]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.USER_MANAGEMENT]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.STATISTICS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.SYSTEM_CONFIG]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE]},[n.i4.ATHLETE]:{[n._z.HOME]:[n.aU.READ],[n._z.ABOUT]:[n.aU.READ],[n._z.NEWS]:[n.aU.READ],[n._z.CONTACT]:[n.aU.READ],[n._z.PROFILE]:[n.aU.READ,n.aU.UPDATE],[n._z.MY_POINTS]:[n.aU.READ],[n._z.POINTS_QUERY]:[n.aU.READ],[n._z.POINTS_RANKING]:[n.aU.READ],[n._z.POINTS_CALCULATOR]:[n.aU.READ],[n._z.POINTS_TRENDS]:[n.aU.READ],[n._z.RULES_POINTS]:[n.aU.READ],[n._z.COMPETITIONS]:[n.aU.READ],[n._z.COMPETITIONS_SCHEDULE]:[n.aU.READ],[n._z.REGISTRATION]:[n.aU.READ,n.aU.WRITE],[n._z.EVENTS]:[n.aU.READ,n.aU.WRITE]},[n.i4.COACH]:{[n._z.HOME]:[n.aU.READ],[n._z.ABOUT]:[n.aU.READ],[n._z.NEWS]:[n.aU.READ],[n._z.CONTACT]:[n.aU.READ],[n._z.PROFILE]:[n.aU.READ,n.aU.UPDATE],[n._z.MY_POINTS]:[n.aU.READ],[n._z.POINTS_QUERY]:[n.aU.READ],[n._z.POINTS_RANKING]:[n.aU.READ],[n._z.POINTS_CALCULATOR]:[n.aU.READ],[n._z.POINTS_TRENDS]:[n.aU.READ],[n._z.RULES_POINTS]:[n.aU.READ],[n._z.COMPETITIONS]:[n.aU.READ],[n._z.COMPETITIONS_SCHEDULE]:[n.aU.READ],[n._z.REGISTRATION]:[n.aU.READ,n.aU.WRITE],[n._z.EVENTS]:[n.aU.READ,n.aU.WRITE]},[n.i4.ADMIN]:{[n._z.HOME]:[n.aU.READ],[n._z.ABOUT]:[n.aU.READ,n.aU.UPDATE],[n._z.NEWS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.CONTACT]:[n.aU.READ,n.aU.UPDATE],[n._z.PROFILE]:[n.aU.READ,n.aU.UPDATE],[n._z.MY_POINTS]:[n.aU.READ],[n._z.POINTS_QUERY]:[n.aU.READ],[n._z.POINTS_RANKING]:[n.aU.READ],[n._z.POINTS_CALCULATOR]:[n.aU.READ],[n._z.POINTS_TRENDS]:[n.aU.READ],[n._z.RULES_POINTS]:[n.aU.READ,n.aU.UPDATE],[n._z.COMPETITIONS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.COMPETITIONS_SCHEDULE]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE],[n._z.RESULTS_IMPORT]:[n.aU.READ,n.aU.WRITE],[n._z.RESULTS_ANNOUNCEMENT]:[n.aU.READ,n.aU.WRITE],[n._z.REGISTRATION]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.EVENTS]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.ADMIN_DASHBOARD]:[n.aU.READ],[n._z.POINTS_CALCULATION]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE],[n._z.USER_MANAGEMENT]:[n.aU.READ,n.aU.WRITE,n.aU.UPDATE,n.aU.DELETE],[n._z.STATISTICS]:[n.aU.READ],[n._z.SYSTEM_CONFIG]:[n.aU.READ,n.aU.UPDATE]}},U=(e,a)=>{switch(a.type){case"LOGIN_SUCCESS":return{...e,user:a.payload,isAuthenticated:!0,isLoading:!1,error:null};case"LOGIN_FAILURE":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:a.payload};case"LOGOUT":return{...e,user:null,isAuthenticated:!1,isLoading:!1,error:null};case"SET_LOADING":return{...e,isLoading:a.payload};case"CLEAR_ERROR":return{...e,error:null};default:return e}},o={user:null,isAuthenticated:!1,isLoading:!1,error:null},i=(0,r.createContext)(void 0);function A(e){let{children:a}=e,[t,A]=(0,r.useReducer)(U,o),s=async e=>{A({type:"SET_LOADING",payload:!0});try{if(await new Promise(e=>setTimeout(e,1e3)),"admin@ski.com"===e.email&&"admin123"===e.password){let a={id:"1",username:"admin",email:e.email,role:n.i4.ADMIN,status:n.J0.ACTIVE,createdAt:new Date,lastLoginAt:new Date};A({type:"LOGIN_SUCCESS",payload:a}),localStorage.setItem("auth_user",JSON.stringify(a))}else if("athlete@ski.com"===e.email&&"athlete123"===e.password){let a={id:"2",username:"athlete_user",email:e.email,role:n.i4.ATHLETE,status:n.J0.ACTIVE,athleteId:"ATH001",createdAt:new Date,lastLoginAt:new Date};A({type:"LOGIN_SUCCESS",payload:a}),localStorage.setItem("auth_user",JSON.stringify(a))}else if("coach@ski.com"===e.email&&"coach123"===e.password){let a={id:"3",username:"coach_user",email:e.email,role:n.i4.COACH,status:n.J0.ACTIVE,coachId:"COACH001",createdAt:new Date,lastLoginAt:new Date};A({type:"LOGIN_SUCCESS",payload:a}),localStorage.setItem("auth_user",JSON.stringify(a))}else throw Error("邮箱或密码错误，请使用以下测试账号：\n管理员：admin@ski.com / admin123\n运动员：athlete@ski.com / athlete123\n教练：coach@ski.com / coach123")}catch(e){A({type:"LOGIN_FAILURE",payload:e instanceof Error?e.message:"登录失败"})}},u=async e=>{A({type:"SET_LOADING",payload:!0});try{await new Promise(e=>setTimeout(e,1500));let a={id:Date.now().toString(),username:e.username,email:e.email,role:"athlete"===e.userType?n.i4.ATHLETE:n.i4.COACH,status:n.J0.PENDING,athleteId:"athlete"===e.userType?"ATH".concat(Date.now()):void 0,coachId:"coach"===e.userType?"COACH".concat(Date.now()):void 0,createdAt:new Date};A({type:"LOGIN_SUCCESS",payload:a}),localStorage.setItem("auth_user",JSON.stringify(a))}catch(e){A({type:"LOGIN_FAILURE",payload:e instanceof Error?e.message:"注册失败"})}};(0,r.useEffect)(()=>{{let e=localStorage.getItem("auth_user");if(e)try{let a=JSON.parse(e);A({type:"LOGIN_SUCCESS",payload:a})}catch(e){localStorage.removeItem("auth_user")}}},[]);let c={...t,login:s,register:u,logout:()=>{localStorage.removeItem("auth_user"),A({type:"LOGOUT"})},hasPermission:(e,a)=>{var E,r;return t.user?(null===(E=T[t.user.role][e])||void 0===E?void 0:E.includes(a))||!1:(null===(r=T[n.i4.PUBLIC][e])||void 0===r?void 0:r.includes(a))||!1},clearError:()=>{A({type:"CLEAR_ERROR"})}};return(0,E.jsx)(i.Provider,{value:c,children:a})}function s(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},3700:function(e,a,t){"use strict";var E,r,n,T,U,o,i,A;t.d(a,{J0:function(){return r},_z:function(){return n},aU:function(){return T},i4:function(){return E}}),(U=E||(E={})).PUBLIC="public",U.ATHLETE="athlete",U.COACH="coach",U.ADMIN="admin",(o=r||(r={})).ACTIVE="active",o.INACTIVE="inactive",o.PENDING="pending",(i=n||(n={})).HOME="home",i.ABOUT="about",i.NEWS="news",i.CONTACT="contact",i.PROFILE="profile",i.MY_POINTS="my_points",i.POINTS_QUERY="points_query",i.POINTS_RANKING="points_ranking",i.POINTS_CALCULATOR="points_calculator",i.POINTS_TRENDS="points_trends",i.RULES_POINTS="rules_points",i.COMPETITIONS="competitions",i.COMPETITIONS_SCHEDULE="competitions_schedule",i.RESULTS_IMPORT="results_import",i.RESULTS_ANNOUNCEMENT="results_announcement",i.REGISTRATION="registration",i.EVENTS="events",i.ADMIN_DASHBOARD="admin_dashboard",i.POINTS_CALCULATION="points_calculation",i.USER_MANAGEMENT="user_management",i.STATISTICS="statistics",i.SYSTEM_CONFIG="system_config",(A=T||(T={})).READ="read",A.WRITE="write",A.DELETE="delete",A.UPDATE="update"},4007:function(e,a,t){"use strict";t.d(a,{al:function(){return r}});var E=t(257);function r(e){let a=e.startsWith("/")?e:"/".concat(e);return"true"===E.env.GITHUB_PAGES||window.location.pathname.startsWith("/ski/")?"/ski".concat(a):a}}}]);