(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{2053:function(e,s,t){Promise.resolve().then(t.bind(t,8991))},7769:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},2208:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9090:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},8991:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var r=t(7437),a=t(2265),l=t(7648),n=t(9376),i=t(2369),c=t(6337),d=t(7769),o=t(2208),m=t(9090),u=t(4007),x=t(4362);function h(){let[e,s]=(0,a.useState)({email:"",password:""}),[t,h]=(0,a.useState)(!1),[f,b]=(0,a.useState)({email:"",password:""}),[p,j]=(0,a.useState)({email:!1,password:!1}),{login:g,isLoading:y,error:N,isAuthenticated:v,clearError:w}=(0,x.a)(),k=(0,n.useRouter)(),Z=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"请输入有效的邮箱地址":"请输入邮箱地址",S=e=>e?e.length<6?"密码至少需要6个字符":"":"请输入密码",P=()=>{let s=Z(e.email),t=S(e.password);return b({email:s,password:t}),!s&&!t};(0,a.useEffect)(()=>{v&&k.push("/profile")},[v,k]);let E=async s=>{if(s.preventDefault(),w(),j({email:!0,password:!0}),P())try{await g(e)}catch(e){}},M=t=>{let{name:r,value:a}=t.target;s({...e,[r]:a}),p[r]&&("email"===r?b(e=>({...e,email:Z(a)})):"password"===r&&b(e=>({...e,password:S(a)})))},_=s=>{let{name:t}=s.target;j(e=>({...e,[t]:!0})),"email"===t?b(s=>({...s,email:Z(e.email)})):"password"===t&&b(s=>({...s,password:S(e.password)}))};return(0,r.jsxs)("div",{className:"min-h-screen flex",children:[(0,r.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-ski-blue/90 to-blue-600/90"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('".concat((0,u.al)("/images/ski-bg.jpg"),"')")}}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:(0,r.jsxs)("div",{className:"text-white text-center max-w-md",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"欢迎回来"}),(0,r.jsx)("p",{className:"text-xl text-blue-100 mb-8",children:"登录您的中国高山滑雪积分管理平台账户"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,r.jsx)("span",{children:"查看个人积分记录"})]}),(0,r.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,r.jsx)("span",{children:"参与赛事报名"})]}),(0,r.jsxs)("div",{className:"flex items-center text-blue-100",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-300 rounded-full mr-3"}),(0,r.jsx)("span",{children:"查看积分排行榜"})]})]})]})})]}),(0,r.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"会员登录"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"请使用您的会员账户登录"})]}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[N&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:N}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"邮箱地址"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:M,onBlur:_,className:"pl-10 w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors ".concat(f.email?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-ski-blue"),placeholder:"请输入您的邮箱地址"})]}),f.email&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full mr-2"}),f.email]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(c.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",name:"password",type:t?"text":"password",required:!0,value:e.password,onChange:M,onBlur:_,className:"pl-10 pr-10 w-full px-3 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:border-transparent transition-colors ".concat(f.password?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-ski-blue"),placeholder:"请输入您的密码"}),(0,r.jsx)("button",{type:"button",onClick:()=>h(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:t?(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):(0,r.jsx)(o.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),f.password&&(0,r.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[(0,r.jsx)("span",{className:"inline-block w-1 h-1 bg-red-500 rounded-full mr-2"}),f.password]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-ski-blue focus:ring-ski-blue border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"记住我"})]}),(0,r.jsx)(l.default,{href:"/forgot-password",className:"text-sm text-ski-blue hover:text-ski-blue/80",children:"忘记密码？"})]}),(0,r.jsx)("button",{type:"submit",disabled:y,className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-ski-blue hover:bg-ski-blue/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ski-blue disabled:opacity-50 disabled:cursor-not-allowed",children:y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"登录中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"h-5 w-5 mr-2"}),"登录"]})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"还没有账户？"}),(0,r.jsx)(l.default,{href:"/register",className:"ml-2 text-ski-blue hover:text-ski-blue/80 font-medium",children:"立即注册"})]})]}),(0,r.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,r.jsx)("p",{children:"登录即表示您同意我们的"}),(0,r.jsxs)("div",{className:"mt-1",children:[(0,r.jsx)(l.default,{href:"/terms",className:"text-ski-blue hover:text-ski-blue/80",children:"服务条款"}),(0,r.jsx)("span",{className:"mx-2",children:"和"}),(0,r.jsx)(l.default,{href:"/privacy",className:"text-ski-blue hover:text-ski-blue/80",children:"隐私政策"})]})]})})]})})]})}}},function(e){e.O(0,[972,132,971,117,744],function(){return e(e.s=2053)}),_N_E=e.O()}]);